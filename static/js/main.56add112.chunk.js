(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(3),c=a.n(r);a(13),a(14);var s=function(){const e=Object(n.useRef)(null),[t,a]=Object(n.useState)(""),[r,c]=Object(n.useState)(""),[s,o]=Object(n.useState)(""),[i,u]=Object(n.useState)(null),[m,d]=Object(n.useState)(null),[p,g]=Object(n.useState)("");return Object(n.useEffect)(()=>{if(window.google&&window.google.maps&&e.current){const t=new window.google.maps.places.Autocomplete(e.current,{types:["geocode"]});t.addListener("place_changed",()=>{const e=t.getPlace();if(e.geometry){a(e.formatted_address||"");const t=e.geometry.location.lat(),n=e.geometry.location.lng();u({lat:t,lng:n})}})}},[]),l.a.createElement("div",{className:"app-wrapper"},l.a.createElement("header",{className:"app-header"},l.a.createElement("h1",{className:"header-title"},"Save, Don't Stress")),l.a.createElement("div",{className:"app-container"},l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{className:"label"},"Address:"),l.a.createElement("input",{ref:e,value:t,onChange:e=>a(e.target.value),className:"input",placeholder:"Type or select address"})),l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{className:"label"},"Grocery Item:"),l.a.createElement("input",{value:r,onChange:e=>c(e.target.value),className:"input",placeholder:"milk"})),l.a.createElement("button",{className:"search-button",onClick:async function(){o(""),d(null),g("");let e=null===i||void 0===i?void 0:i.lat,a=null===i||void 0===i?void 0:i.lng;if(!e||!a)try{const l=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(t)}&key=AIzaSyCodFuwZnIn1sJu08OdpieZsr2RH49kWG4`,r=await fetch(l),c=await r.json();if("OK"!==c.status||!c.results.length)return void o("Could not geocode address.");e=c.results[0].geometry.location.lat,a=c.results[0].geometry.location.lng,u({lat:e,lng:a})}catch(n){return void o("Error geocoding: "+n)}if(e&&a&&r)try{const t=await fetch("http://localhost:3001/api/cheapest-item",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({latitude:e,longitude:a,item:r})}),l=await t.text();g(l);try{const e=JSON.parse(l);e.error?(o(e.error),d(null)):d("object"===typeof e?e:null)}catch{d(null)}}catch(n){o("Backend error: "+n)}else o("Missing address or item.")}},"Search"),s&&l.a.createElement("div",{className:"error-message"},s),m&&l.a.createElement("div",{className:"results-container"},l.a.createElement("h2",null,"Store Data (Cheapest to Most Expensive)"),function(){if(!m||"object"!==typeof m)return null;const e=Object.entries(m);return e.length?(e.sort((e,t)=>(Number(e[1].price)||0)-(Number(t[1].price)||0)),l.a.createElement("table",{className:"store-table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Store"),l.a.createElement("th",null,"Address"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"Description"))),l.a.createElement("tbody",null,e.map(e=>{let[t,a]=e;return l.a.createElement("tr",{key:t},l.a.createElement("td",null,t),l.a.createElement("td",null,a.address),l.a.createElement("td",null,"$",a.price),l.a.createElement("td",null,a["short-description"]))})))):null}(),l.a.createElement("h2",null,"Price Chart (Ascending)"),function(){if(!m||"object"!==typeof m)return null;const e=Object.entries(m);return e.length?(e.sort((e,t)=>(Number(e[1].price)||0)-(Number(t[1].price)||0)),l.a.createElement("div",{className:"chart-container"},e.map(e=>{let[t,a]=e;const n=Number(a.price)||0,r=Math.max(50*n,0);return l.a.createElement("div",{key:t,className:"chart-row"},l.a.createElement("div",{className:"chart-label"},t),l.a.createElement("div",{className:"chart-bar",style:{width:r}},"$",a.price))}))):null}()),!m&&p&&!s&&l.a.createElement("div",{className:"raw-json-container"},l.a.createElement("h2",null,"Raw Response (Unparsed)"),l.a.createElement("pre",{className:"raw-json"},p))),l.a.createElement("footer",{className:"app-footer"},l.a.createElement("p",null,"\xa9 2025 Grocery Finder. All rights reserved.")))};var o=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,16)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:r,getTTFB:c}=t;a(e),n(e),l(e),r(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(s,null))),o()},4:function(e,t,a){e.exports=a(15)}},[[4,1,2]]]);
//# sourceMappingURL=main.56add112.chunk.js.map